<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${user.id} == null ? 'Новый пользователь' : 'Редактирование пользователя'">
        Пользователь
    </title>
</head>
<body>

<h1 th:text="${user.id} == null ? 'Новый пользователь' : 'Редактирование пользователя'">
    Пользователь
</h1>

<p><a th:href="@{/admin/users}">К списку пользователей</a></p>

<form th:action="@{/admin/users/save}" th:object="${user}" method="post">

    <input type="hidden" th:field="*{id}"/>

    <div>
        <label>Логин:
            <input type="text" th:field="*{username}">
        </label>
    </div>

    <div>
        <label>Пароль:
            <input type="password" th:field="*{password}">
        </label>
        <p th:if="${user.id != null}">Оставь пустым, если не хочешь менять пароль.</p>
    </div>

    <div>
        <label>Роль:
            <select th:field="*{role}">
                <option th:each="r : ${roles}"
                        th:value="${r}"
                        th:text="${r}">ROLE_USER</option>
            </select>
        </label>
    </div>

    <button type="submit">Сохранить</button>
</form>

</body>
</html>
